)%>%
summarize(
TOTALKBTU = sum(TOTALKBTU, na.rm = TRUE)
) %>%
mutate(
DATE =
paste(
YEAR,
MONTH,
"01",
sep = "-"
) %>% as.Date()
)
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year %in% "2020") %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year == "2019")
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2019",
fill = "Electricity Type"
)
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year == 2019)
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2019",
fill = "Electricity Type"
)
pge_2020_chart <-
pge_filter %>%
filter(year %in% "2020") %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_residential_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Residential", "Elec- Residential")) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Year",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2017-2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_residential_chart
pge_commercial_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial")) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2017-2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_commercial_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year %in% "2020") %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year %in% 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year %in% 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(year == 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(YEAR == 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE %>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Commercial")) %>%
filter(YEAR == 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE%>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Residential")) %>%
filter(YEAR == 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE%>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_commercial_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial")) %>%
ggplot() +
geom_bar(
aes(
x = DATE,
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2017-2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_commercial_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Residential")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE %>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elect- Residential")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE %>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elec- Residential")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE %>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
pge_2020_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elec- Residential")) %>%
filter(YEAR == 2020) %>%
ggplot() +
geom_bar(
aes(
x = DATE%>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2020",
fill = "Electricity Type"
)
## change the date range from monthly to yearly ==> change the x axis.
##pge_residential_chart + scale_x_continuous(breaks = c(2017, 2018, 2019, 2020, 2021))
#plot the chart
pge_2020_chart
pge_2019_chart <-
pge_filter %>%
filter(CUSTOMERCLASS %in% c("Gas- Commercial", "Elec- Commercial", "Gas- Residential", "Elec- Residential")) %>%
filter(YEAR == 2019) %>%
ggplot() +
geom_bar(
aes(
x = DATE %>%factor (),
y = TOTALKBTU,
fill = CUSTOMERCLASS
),
stat = "identity",
position = "stack"
) +
theme(axis.text.x = element_text(angle = 90))+
labs(
x = "Months",
y = "kBTU",
title = "PG&E Territory Monthly Residential Electricity Usage 2019",
fill = "Electricity Type"
)
#plot the chart
pge_2019_chart
